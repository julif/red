<!doctype  html >
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script><!-- --- Jquery --- -->
    <!-- popper.js -->
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <!-- favicons -->
    <link rel="shortcut icon" href="img/favicon/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="img/favicon/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="img/favicon/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="img/favicon/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="img/favicon/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="img/favicon/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="img/favicon/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="img/favicon/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="img/favicon/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="img/favicon/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="img/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="img/favicon/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="img/favicon/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="img/favicon/favicon-128.png" sizes="128x128" />
    <meta name="application-name" content="&nbsp;"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="img/favicon/mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="img/favicon/mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="img/favicon/mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="img/favicon/mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="img/favicon/mstile-310x310.png" />
    <!-- css -->
    <link rel="stylesheet" href="style.css"/>
    <link rel="stylesheet" href="fullwiev_btn.css"> 
    <link rel="stylesheet" href="icomoon.css"> 
  </head>
  <body id="contenedor">
    <portrait  id="portrait">   

      <!-- <img src="img/rotate2.gif"> -->
      <img class="animate__animated animate__rotateIn" style="
      width: 250px;
  " src="img/dffr.png">
    </portrait >
<landscape id="landscape">


      <div id="full">
        <div id="tooltip"  role="tooltip">
          <i class="fas fa-info-circle"></i><span >  se recomienda pantalla completa </span>
       
          <div id="arrow" data-popper-arrow></div>
        </div>
        <button id="fullwiev" onclick="lock('landscape')">
          <i class="fa fa-expand"></i>
        </button>
      </div>

 
  <!--  loading page ------------------------------------------------------------------------------  -->
  <section  id="pre_loader" >
    
    <div id="preloader" ></div>
    <div style="
    text-align: center;   
">
<div> <!-- <img style="width: 200px;" src="img/roja2.png" > -->   <h1 id="preloader_roja_titulo">R<span>O</span>JA</h1> </div>
    <div id="porcentaje_contenedor"><div id="barra"></div>  <div id="porcentaje"></div></div>
    <div id="terminado" style="
    margin-top: 20px;
"></div>
    </div>
  </section>
  <!--  main menu  ------------------------------------------------------------------------------  -->
  <div id="landing" style="display: none;"> 
    <div style="
    background-color: blue;
    height: 100%;
    width: 100%;
    position: absolute;
    z-index: -1;
    background-image: url(img/fondo2.png);
    background-size: cover;
    filter: blur(3px);

    overflow: hidden;
">  </div>
    <div style="text-align: center; /* background-color: #000000ba; */
    padding: 32px;">
      <div> <!-- <img  id="roja_title_img" src="img/roja2.png" >  -->  
      

        <h1 id="roja_titulo">R<span>O</span>JA</h1>
      
      
<!-- <h1 style="font-family: 'Zooma';
font-size: 100px;
margin: 15px;
font-weight: 100;">R<span style="
COLOR: #e43939;
">E</span>D</h1> -->
      
      </div> 
      <style>
        #roja_title_img{ width: 80%;}
        @media only screen and (max-width: 800px) {
          #roja_title_img{ width: 40%;}
         }
      </style>
     <p  id="sub_title"> Novela Visual Interactiva Online </p>
      <button onclick="myFunction()"> Iniciar </button>
      
    </div>

     <div id="redes_mainmenu"> 
       <!-- <div class="redes" ><a href="https://www.google.com/"> <i class="fab fa-facebook-square"></i>  <g>Julif </g> </a> </div> -->
       <div class="redes" ><a href="https://ko-fi.com/juli22f" > <i class="icon-ko-fi1"></i><g> ko-fi </g></a></div>
     </div> 
     <div class="version"> v 1.0.3 </div>
     <div class="version2"> <img src="img/julif.svg" ></div>
   

  </div>
  
      <container  id="container" style="display: none;">
  
  

  
        <aspect_ratio>
          <div id="full-container">
            <div id="parte-superior">
              <div id="fondo"  >
                <div id="fondo_img" class="animate__animated animate__fadeIn"></div>
              </div>
                <div id="barra-superior" ></div>
                <div id="fondo_superior"></div>
              
                  <!-- <div id="personajes"><img src="img/red.png" style="height: 150px;width: auto;"></div> -->
                  <div id="personaje-container"> 
     
                    <!-- <div id="personajes">  <div class='personaje' style='--h: ${dynamicHeight}px' ><img class="animate__animated animate__fadeIn"   src="img/animatic2.png" style="height: 100%;width: auto;"></div> </div> -->
                    <!-- <div id="personajes">  <div class='personaje' style='--h: ${dynamicHeight}px' ><img class="animate__animated animate__fadeIn"   src="img/roja2.png" style="height: 60%;width: auto;"></div> </div> -->
                    <div id="personajes">  <div class='personaje' style='--h: ${dynamicHeight}px' ><img class="animate__animated animate__fadeIn"   src="img/julif.svg" style="height: 60%;width: auto;"></div> </div>
                    <script> let dynamicHeight = document.getElementById("personaje-container").clientWidth /4.0;   $( ".personaje" ).css( "--h", dynamicHeight+"px" ); </script>
                   
              
                  </div>
               
                
        
              
            </div>
            <div id="parte-inferior">
              <!-- <div class="personaje"><img src="img/red.png" style="height: 150px;width: auto;"></div> -->
              <div style=" width: 100%; height: 5%;"></div>
              <div id="titulo"> <p style="    margin: 0px;color: #726e7d;" id="nombre_div"  > </p></div>
          <!-- <p id="texto" class="animate__animated animate__fadeInDown" >* Bunny camina por el bosque Hablando en voz ezageradamente alta y finguiendo que no nota que algo la esta siguiendo. *</p> -->
          <div id="texto" >
            <!-- <p id="dialogo"  style="color: #4e4861;" class="animate__animated animate__fadeInDown" >* bunny camina por el bosque hablando en voz exageradamente alta y finguiendo que no nota que algo la esta siguiendo. *</p> -->
            <!-- <p id="dialogo"  style="color: #4e4861;" class="animate__animated animate__fadeInDown" >creado por <z style="color: #ffffff;">Julif</z> </p> -->
            <p id="dialogo"  style="color: #4e4861;" class="animate__animated animate__fadeInDown" >presenta: </p>
          </div>
         
          <button id="button" style="position: absolute;bottom: 0px;right: 0;" >siguiente</button>
            </div>
      
     
          
          
        </div>
        </aspect_ratio>
      </container> 
    </landscape>


 

  </body>
  <script>


var imagenes_a_cargar = [
   "julif.svg", 
   "roja.png", 
   "roja2.png", 
   "roja3.png", 
   "roja4.png", 
   "red.png", 
   "red22.png",
   "animatic.png",
   "animatic2.png",
   "lobo3.png",
   "fondo.png",
   "fondo2.png",
   "fondo_superior.png"
  ];
  precarga( imagenes_a_cargar );

porcentaje =  "0%" ;
document.getElementById("porcentaje").innerHTML = porcentaje;
document.getElementById("barra").style.width = porcentaje;

var imagenes_cargadas = 0;
var numero_total;

function precarga( item ){ 
  // ------------- limpiar los datos para re-utilizacion -----------------
  porcentaje = "0%";
  document.getElementById("preloader").innerHTML = " ";
  imagenes_cargadas = 0;
  numero_total =  item.length;


  item.forEach(mostrar_imagenes_en_preloader);
  
  function mostrar_imagenes_en_preloader(item, index){
    document.getElementById("preloader").innerHTML +=    '<img  id="preloaded_element_'+ index +'" src="img/'+ item +'" >' ;
    }

  var imagenes_en_preloader = $('#preloader').children('img').map(function(){
  return $(this).attr('id');
}).get()
imagenes_en_preloader.forEach(precargar_imagenes);



function precargar_imagenes(item, index){
  item ="#"+ item;
  $(item).on('load', function() {
    imagenes_cargadas++;
    console.log(   "cargada imagen: "+ imagenes_cargadas +" de "+ numero_total );
    // ------------- calcular y mostrar el porcentaje -----------------
    porcentaje = imagenes_cargadas* 100/  numero_total;   // saco el porcentaje de las imagenes cargadas
    porcentaje = porcentaje.toFixed() //convertir en numero entero
    porcentaje =  porcentaje + "%" ;
    document.getElementById("porcentaje").innerHTML = porcentaje;
    document.getElementById("barra").style.width = porcentaje;
    // ------------- terminado -----------------
    if( imagenes_cargadas == numero_total){
    console.log(" ");
    console.log("//carga completada//"); 
    console.log(" ");
    // document.getElementById("terminado").innerHTML = "//carga completada//";
    //document.getElementById("terminado").innerHTML = '<button onclick="go_to_landing()">Click me</button>';
    document.getElementById("landing").style.display = "flex";
    document.getElementById("pre_loader").style.display = "none";
  }
})// load function
}//precargar_imagenes




 }






/* 

 function go_to_landing(){

  document.getElementById("landing").style.display = "flex";
  document.getElementById("pre_loader").style.display = "none";

 } */















function myFunction() {
  document.getElementById("landing").style.display = "none";
  document.getElementById("container").style.display = "flex";
}















  var i= 0;
  document.getElementById("button").addEventListener("click", next);
  function next() { 

    let dynamicHeight = document.getElementById("personaje-container").clientWidth /4.0;
    let personajes = document.getElementById("personajes");

  console.log(dynamicHeight);

    switch (i) {
      case 0:
        newPersonaje = `<div class='personaje' style='--h: ${dynamicHeight}px' ><h1 style=" color:white;font-family: 'Zooma';font-size: 25vh;    margin: 3vh;
    font-weight: 100;">ROJA</h1></div>`;   
        nombre="- narrador -";
        dialogo = "consejo: se pueden usar la barra espaciadora y la flecha derecha en lugar de el boton 'siguiente'.";

        personajes.innerHTML=newPersonaje;
        i++;  
      break;
      case 1:
        newPersonaje = ` <div class='personaje' style='--h: ${dynamicHeight}px' ><img class="animate__animated animate__fadeIn"   src="img/animatic2.png" style="height: 100%;width: auto;"></div>`;    
        nombre="- narrador -";
        dialogo = "* bunny camina por el bosque hablando en voz exageradamente alta y finguiendo que no nota que algo la esta siguiendo. *";
        document.getElementById("fondo").innerHTML='';

        personajes.innerHTML=newPersonaje;
        i++;  
      break;
      case 2:

        newPersonaje = `<div class='personaje' style='--h: ${dynamicHeight}px' ><img class="animate__animated animate__fadeInRight"   src="img/red22.png" style="height: 100%;width: auto;"></div>`;   
      
        nombre="- bunny -";
        dialogo = "ohh!! espero que nada inesperado se cruze en mi camino por que tengo que llevarle esta canasta con comida a mi abuela.";
        document.getElementById("fondo").innerHTML= ' <div id="fondo_img" class="animate__animated animate__fadeIn" style=" background-image: url(img/fondo.png);" ></div>';
        document.getElementById("fondo_superior").classList.add("animate__animated"); 
        document.getElementById("fondo_superior").classList.add("animate__fadeIn"); 
        document.getElementById("fondo_superior").style.backgroundImage = "url('img/fondo_superior2.png')";

        personajes.innerHTML=newPersonaje;

        i++;  
      break;
      case 3:
      newPersonaje = `<div class='personaje' style='--h: ${dynamicHeight}px' ><img class="animate__animated animate__fadeIn"   src="img/animatic.png" style="height: 100%;width: auto;"></div>`;    
     // document.getElementById("personajes").innerHTML = "<img src=\"img/red2.png\"  style=\" height: 150px; width: auto;\" >"
        nombre="- narrador -";
        dialogo = "* de repente una niebla empieza a rodearla y se oye una voz *";
        document.getElementById("fondo_superior").style.backgroundImage = "url(' ')";
        //personajes.insertAdjacentHTML("afterbegin", newPersonaje);
        personajes.innerHTML=newPersonaje;
        //document.getElementById("fondo").style.backgroundImage = null;
        document.getElementById("fondo").innerHTML='';
        i++;  
      break;
      case 4: 
      newPersonaje = `<div class='personaje' style='--h: ${dynamicHeight}px;' ><img class="animate__animated animate__fadeInRight"   src="img/lobo3.png" style="height: 100%;width: auto;"></div>`;    
        nombre="- lobo -";
        dialogo = "Pequeña conejita perdida en el bosque, ¿cual es la prisa?";
        document.getElementById("fondo").innerHTML= ' <div id="fondo_img" class="animate__animated animate__fadeIn" style=" background-image: url(img/fondo2.png);" ></div>';
        document.getElementById("fondo_superior").classList.add("animate__animated"); 
        document.getElementById("fondo_superior").classList.add("animate__fadeIn"); 
        document.getElementById("fondo_superior").style.backgroundImage = "url('img/fondo_superior.png')";
        personajes.innerHTML=newPersonaje;

        i++;  
      break;
      case 5:
      newPersonaje = `<div class='personaje' style='--h: ${dynamicHeight}px; animation: none' ><img    src="img/lobo3.png" style="height: 100%;width: auto;"></div>`; 
        nombre="- lobo -";  
        dialogo = "tengo mucha hambre pequeña, ¿no vas a ofrecerme nada de lo que traes en  esa canasta? donde quedaron los modales de antaño? ";
        // personajes.insertAdjacentHTML("beforeend", newPersonaje);
        personajes.innerHTML=newPersonaje;
        i++;  
      break;
      case 6:
      newPersonaje = `<div class='personaje' style='--h: ${dynamicHeight}px' ><img    src="img/red402.png"  class="animate__animated animate__fadeInLeft"  style="height: 100%;width: auto;"></div>`; 
      
        nombre="- bunny -";
        dialogo = "oh! disculpe pero no creo traer nada de su gusto.";

        personajes.insertAdjacentHTML("afterbegin", newPersonaje);
        // document.getElementsByClassName("personaje")[1].style.marginTop= "25px";
        document.getElementsByClassName("personaje")[1].style.filter = "brightness(70%)";
        // document.getElementsByClassName("personaje")[1].style.filter= "brightness(0.5);";
        i++;  
      break;
      case 7:
      /* newPersonaje = `<div class='personaje' style='--h: ${dynamicHeight}px' ><img    src="img/lobo3.png"  class="animate__animated animate__fadeInRight"  style="height: 100%;width: auto;"></div>`; 
      personajes.innerHTML=newPersonaje;
        nombre="- lobo -";
        dialogo = "ooohhhh pero claro que traes algo de mi gusto, puedo oler hogazas de pan, puedo oler algunas manzanas y puedo oler...";
        i++;   */


       //document.getElementById("personajes").innerHTML = "<img src=\"img/red3.png\"  style=\" height: 150px; width: auto;\" >"
        //let newPersonaje = `<div class='personaje' style='--h: ${dynamicHeight}px' ><img class="animate__animated animate__fadeInRight"   src="https://julif.github.io/red/Nueva%20carpeta%20(2)/red3.png" style="height: 100%;width: auto;"></div>`;    
       // document.getElementById("personajes").innerHTML = "<img src=\"img/red3.png\"  style=\" height: 150px; width: auto;\" >"
      //  newPersonaje = `<div class='personaje' style='--h: ${dynamicHeight}px' ><img class="animate__animated animate__fadeInRight"   src="img/lobo3.png" style="height: 100%;width: auto;"></div>`;    
        nombre="- lobo -";
        dialogo = "ooohhhh pero claro que traes algo de mi gusto, puedo oler hogazas de pan, puedo oler algunas manzanas y puedo oler...";
        document.getElementsByClassName("personaje")[0].style.filter = "brightness(70%)";
        document.getElementsByClassName("personaje")[1].style.filter = "brightness(100%)";
        
          // personajes.innerHTML=newPersonaje;

        // document.getElementById("fondo").style.backgroundImage = "url('img/fondo2.png')";
        i++;  


      break;
      case  8:
      newPersonaje = `<div class='personaje' style='--h: ${dynamicHeight}px' ><img class="animate__animated animate__fadeInRight"   src="img/lobo3.png" style="height: 100%;width: auto;"></div>`;   
      
      nombre="- lobo -";
      dialogo = "una trampa a kilometros de distancia!.";
      // document.getElementById("fondo").innerHTML= ' <div id="fondo_img" class="animate__animated animate__fadeIn" style=" background-image: url(img/fondo.png);" ></div>';
      // document.getElementById("fondo_superior").classList.add("animate__animated"); 
      // document.getElementById("fondo_superior").classList.add("animate__fadeIn"); 
      // document.getElementById("fondo_superior").style.backgroundImage = "url('img/fondo_superior2.png')";

      personajes.innerHTML=newPersonaje;

      i++;  
        document.getElementById("button").style.display= 'none';
    }
    // personajes.innerHTML=newPersonaje;
    dialogo= "<p id=\"dialogo\" class=\"animate__animated animate__fadeInDown\" >"+ dialogo +"</p>";
    document.getElementById("texto").innerHTML= dialogo;

    switch (nombre) {
      case "- bunny -": 
      document.getElementById("nombre_div").style.color= '#b42636';
      document.getElementById("dialogo").style.color= '#dad6e8!important';
     
      break;
      case "- narrador -":
      document.getElementById("nombre_div").style.color= '#413a56';
      document.getElementById("dialogo").style.color= '#4e4861';

      nombre=" ";
      break;
      break;
      case " ":
      document.getElementById("dialogo").style.color= '#413a56!important';

      break;
      case "- lobo -":
      document.getElementById("nombre_div").style.color= '#3c3354';
      document.getElementById("dialogo").style.color= ' #dad6e8!important';
    }
   
     document.getElementById("nombre_div").innerHTML= nombre;


     
    


     //document.getElementById("dialogo").style.color= 'red';




 
    
  
  


  }
  </script>
  
<script>
  window.addEventListener("resize", ResizeFunction);
  // object.addEventListener("keydown", myScript);
  window.addEventListener("keydown", myScript);
  
  function myScript(){

  var event = window.event ? window.event : e;
    console.log(event.keyCode);
    if( event.keyCode == 39 || event.keyCode == 32 ){
      // document.getElementById("button").addClass('active');
      document.getElementById("button").style.color = 'black';
      document.getElementById("button").style.backgroundColor = 'white';
     // $(button).addClass('active')
      next();
      setTimeout(myFunction, 100)
    }

    function myFunction() {
      document.getElementById("button").style.color = 'white';
      document.getElementById("button").style.backgroundColor = 'black';
     }
}

 
  function ResizeFunction() {
    let dynamicHeight = document.getElementById("personaje-container").clientWidth /4.0;
    //alert("ventana cambiada");
    //$( ".personaje" ).css( "--h", dynamicHeight );
    $( ".personaje" ).css( "--h", dynamicHeight+"px" );
  }
  </script>
   <script>
    function fullScreen() {
      // Kind of painful, but this is how it works for now
      if (document.documentElement.requestFullscreen) {
      document.getElementById("contenedor").requestFullscreen();
      } else if (document.documentElement.mozRequestFullScreen) {
        document.getElementById("contenedor").mozRequestFullScreen();
      } else if (document.documentElement.webkitRequestFullscreen) {
        document.getElementById("contenedor").webkitRequestFullscreen();
      } else if (document.documentElement.msRequestFullscreen) {
        document.getElementById("contenedor").msRequestFullscreen();
      }
    }
    function lock(orientation) {
      fullScreen();
      screen.orientation.lock(orientation);
    }
  </script>

<script>
  // const button = document.querySelector('#button');
  
  const button = document.querySelector('#fullwiev');
  const tooltip = document.querySelector('#tooltip');

  // Pass the button, the tooltip, and some options, and Popper will do the
  // magic positioning for you:
/*   Popper.createPopper(button, tooltip, {
    placement: 'right',
  }); */
  Popper.createPopper(button, tooltip, {
    placement: 'left',
  modifiers: [
    {
      name: 'offset',
     
      options: {
        offset: [0, 10],
      },
    },
  ],
});
</script>

  <script> 
   setTimeout(myFunction2, 3000)
   setTimeout(myFunction3, 12000)
   function myFunction2() {
      document.getElementById("tooltip").style.opacity = 100;
  
     }

     function myFunction3() {
      document.getElementById("tooltip").style.opacity = 0;
     }
    </script>


</html>



